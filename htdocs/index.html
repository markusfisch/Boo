<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="msapplication-tap-highlight" content="no"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
<title>Boo!</title>
<link rel="shortcut icon" href="icon.png"/>
<link rel="apple-touch-icon-precomposed" href="icon.png"/>
<style>

html,
body
{
	background: #111;
	margin: 0; padding: 0;
	overflow: hidden;
	-ms-touch-action: none;
	font: 20pt serif; color: #fff;
}

canvas
{
	position: fixed;
	left: 0; top: 0;
	z-index: 1;
}

.Overlay
{
	position: fixed;
	z-index: 3;
	left: 0; top: 0;
	right: 0; bottom: 0;
	width: 100%; height: 100%;
	padding: 0;
	background: rgba( 17, 17, 17, .75 );
	-webkit-transform-style: preserve-3d;
	transform-style: preserve-3d;
}

.Center
{
	position: relative;
	top: 50%;
	-webkit-transform: translateY( -50% );
	transform: translateY( -50% );
	max-width: 30em;
	margin: 0 auto; padding: 1em;
	text-align: center;
}

.Buttons
{
	margin: 2em 0 0;
}

.Text,
.Button
{
	margin: 0 auto; padding: 0;
	font-weight: lighter;
	letter-spacing: .2em;
	line-height: 150%;
	font-variant: small-caps;
}

.Button
{
	background: #333; color: #fff;
	display: inline-block;
	margin: .25em; padding: .4em 1.5em;
	border: 0; outline: 0;
	border-radius: .2em;
	text-decoration: none;
	cursor: default;
}

@media screen and (max-width: 600px), screen and (max-height: 600px)
{
	.Text
	{
		font-size: 14pt;
	}
}

</style>
<head>
<body>
<div id="Message" class="Overlay">
	<div class="Center">
		<div id="MessageText" class="Text">Initializing...</div>
	</div>
</div>
<script>

"use strict";

Math.TAU = Math.TAU || Math.PI*2;

var requestAnimFrame =
		window.requestAnimationFrame ||
		window.webkitRequestAnimationFrame ||
		window.mozRequestAnimationFrame ||
		window.msRequestAnimationFrame ||
		window.oRequestAnimationFrame ||
		function( callback )
		{
			window.setTimeout( callback, 16 );
		},
	resources = {
		ground: { rect: {/*ground*/x:0,y:0,w:32,h:32} },
		ghost0: { rect: {/*ghost0*/x:72,y:14,w:10,h:14} },
		ghost1: { rect: {/*ghost1*/x:82,y:14,w:9,h:14} },
		ghost2: { rect: {/*ghost2*/x:91,y:0,w:7,h:14} },
		ghost3: { rect: {/*ghost3*/x:82,y:0,w:9,h:14} },
		ghost4: { rect: {/*ghost2*/x:91,y:0,w:7,h:14} },
		ghost5: { rect: {/*ghost1*/x:82,y:14,w:9,h:14} },
		priestCrow0: { rect: {/*priest-crow0*/x:32,y:15,w:12,h:15} },
		priestCrow1: { rect: {/*priest-crow1*/x:32,y:0,w:12,h:15} },
		priestWalkRight0: { rect: {/*priest-walk0*/x:44,y:16,w:9,h:15} },
		priestWalkRight1: { rect: {/*priest-walk1*/x:53,y:0,w:11,h:14} },
		priestWalkRight2: { rect: {/*priest-walk2*/x:64,y:16,w:8,h:15} },
		priestWalkRight3: { rect: {/*priest-walk3*/x:64,y:0,w:8,h:16} },
		priestWalkRight4: { rect: {/*priest-walk4*/x:53,y:14,w:10,h:15} },
		priestWalkRight5: { rect: {/*priest-walk5*/x:72,y:0,w:10,h:14} },
		priestWalkRight6: { rect: {/*priest-walk6*/x:91,y:14,w:6,h:15} },
		priestWalkRight7: { rect: {/*priest-walk7*/x:44,y:0,w:9,h:16} },
		priestWalkLeft0: { rect: {/*priest-walk0*/x:44,y:16,w:9,h:15},
			mirror: true },
		priestWalkLeft1: { rect: {/*priest-walk1*/x:53,y:0,w:11,h:14},
			mirror: true },
		priestWalkLeft2: { rect: {/*priest-walk2*/x:64,y:16,w:8,h:15},
			mirror: true },
		priestWalkLeft3: { rect: {/*priest-walk3*/x:64,y:0,w:8,h:16},
			mirror: true },
		priestWalkLeft4: { rect: {/*priest-walk4*/x:53,y:14,w:10,h:15},
			mirror: true },
		priestWalkLeft5: { rect: {/*priest-walk5*/x:72,y:0,w:10,h:14},
			mirror: true },
		priestWalkLeft6: { rect: {/*priest-walk6*/x:91,y:14,w:6,h:15},
			mirror: true },
		priestWalkLeft7: { rect: {/*priest-walk7*/x:44,y:0,w:9,h:16},
			mirror: true },
	},
	atlas,
	atlasWidth,
	message,
	messageText,
	resizeTimer,
	resizing,
	canvasBack,
	ctxBack,
	canvasGame,
	ctxGame,
	ratio,
	width,
	height,
	centerX,
	centerY,
	scaleFactor,
	mapLeft,
	mapTop,
	mapRight,
	mapBottom,
	sprites = [],
	running,
	now,
	last,
	factor,
	audioChannelsLength = 4,
	audioChannels = [],
	sounds = {},
	pointerLength = 0,
	pointerX = [],
	pointerY = [],
	keysDown = [],
	gameOver,
	frameFrequency = 100,
	priestsLength,
	priests = [],
	radiusSeen,
	radiusCastOut,
	playerX,
	playerY,
	playerFrame,
	playerFrameLast,
	playerAlive,
	playerSurvived,
	playerSurvivedLast,
	fragmentsLength,
	fragments = [];

function drawSprite( sprite, x, y )
{
	ctxGame.drawImage(
		sprite,
		(x-sprite.centerX) | 0,
		(y-sprite.centerY) | 0 );
}

function drawFragments()
{
	for( var n = fragmentsLength; n--; )
	{
		var f = fragments[n];

		if( f.x < 0 ||
			f.x > width ||
			f.y < 0 ||
			f.y > height )
			continue;

		f.x += f.vx*factor;
		f.y += f.vy*factor;
		f.spin += factor*.1;
		++f.live;

		var a = 1.05;
		f.vx *= a;
		f.vy *= a;

		var sin = Math.sin( f.spin )*scaleFactor*2;

		ctxGame.fillStyle = f.color;
		ctxGame.fillRect(
			(f.x+sin*f.vy) | 0,
			(f.y-sin*f.vx) | 0,
			scaleFactor | 0,
			scaleFactor | 0 );
	}
}

function drawPlayer()
{
	var state = "ghost";

	if( now-playerFrameLast > frameFrequency )
	{
		++playerFrame;
		playerFrame %= 6;
		playerFrameLast = now;
	}

	drawSprite(
		sprites[state+playerFrame],
		playerX,
		playerY+Math.sin( now*.002 )*scaleFactor );
}

function bounce( value, change, min, max )
{
	var l = max-min,
		r;

	if( (r = value-min) < change )
		value = min-(r % l);
	else if( (r = value-max) > change )
		value = max-(r % l);

	return value;
}

function setFragments()
{
	for( var n = fragmentsLength; n--; )
	{
		var f = fragments[n],
			speed = (.005+Math.random()*.1)*scaleFactor;

		f.x = playerX+f.ox*scaleFactor;
		f.y = playerY+f.oy*scaleFactor;
		f.vx = f.ovx*speed;
		f.vy = f.ovy*speed;
		f.spin = Math.random()*Math.TAU;
		f.live = 0;
	}
}

function notifyPriests()
{
	for( var n = priestsLength; n--; )
	{
		var p = priests[n],
			dx = p.x-playerX,
			dy = p.y-playerY,
			d = Math.sqrt( dx*dx + dy*dy );

		p.crow = now+Math.random()*(d/scaleFactor)*10;
	}
}

function killPlayer()
{
	playerAlive = false;
	setFragments();
	notifyPriests();

	setTimeout(
		function()
		{
			showMessage(
				'You survived '+playerSurvived+' seconds!'+
				'<div class="Buttons">'+
				'<a onclick="restart()" class="Button">Try again</a>'+
				'</div>' );
			gameOver = true;
		},
		500 );
}

function drawPriestCrowing( p )
{
	if( now-p.lastFrame > frameFrequency )
	{
		++p.frame;
		p.frame %= 2;
		p.lastFrame = now;
	}

	drawSprite(
		sprites["priestCrow"+(p.frame % 2)],
		p.x,
		p.y );
}

function drawPriestWalking( p )
{
	var state = "priestWalk"+(p.vx > 0 ? "Right" : "Left");

	p.x += p.vx*factor;
	p.y += p.vy*factor;

	if( p.x < mapLeft ||
		p.x > mapRight )
	{
		p.x = bounce( p.x, p.vx, mapLeft, mapRight );
		p.vx = -p.vx;
	}

	if( p.y < mapTop ||
		p.y > mapBottom )
	{
		p.y = bounce( p.y, p.vy, mapTop, mapBottom );
		p.vy = -p.vy;
	}

	var dx = playerX-p.x,
		dy = playerY-p.y,
		d = dx*dx + dy*dy;

	if( d < radiusSeen )
	{
		if( playerAlive &&
			(d = Math.sqrt( d )) < radiusCastOut )
			killPlayer();

		d /= scaleFactor;
		p.vx = dx/d;
		p.vy = dy/d;
	}

	if( now-p.lastFrame > frameFrequency )
	{
		++p.frame;
		p.frame %= 8;
		p.lastFrame = now;
	}

	drawSprite(
		sprites[state+p.frame],
		p.x,
		p.y );
}

function drawPriests()
{
	for( var n = priestsLength; n--; )
	{
		var p = priests[n];

		if( p.crow < now )
			drawPriestCrowing( p );
		else
			drawPriestWalking( p );
	}
}

function draw()
{
	ctxGame.clearRect( 0, 0, width, height );

	drawPriests();

	if( playerAlive )
		drawPlayer();
	else
		drawFragments();
}

function playSound( id )
{
	var e = sounds[id];

	if( !e )
		return;

	for( var n = audioChannelsLength; n--; )
	{
		var ac = audioChannels[n];

		if( ac.finished < now )
		{
			ac.finished = now+e.duration*1000;

			var ch = ac.channel;

			if( ch.src != e.src )
			{
				ch.src = e.src;
				ch.load();
			}
			else
				ch.currentTime = 0;

			ch.play();

			break;
		}
	}
}

function createPriests()
{
	var w = mapRight-mapLeft,
		h = mapBottom-mapTop,
		min = Math.min( w, h )*.3;

	for( var n = priestsLength; n--; )
	{
		var a = Math.random()*Math.TAU,
			speed = (.4+Math.random()*.6)*scaleFactor,
			x,
			y;

		do
		{
			x = mapLeft+Math.random()*w,
			y = mapTop+Math.random()*h;
		} while( Math.abs( x-playerX )+Math.abs( y-playerY ) < min );

		priests[n] = {
			x: x,
			y: y,
			vx: Math.cos( a )*speed,
			vy: Math.sin( a )*speed,
			crow: now+now,
			frame: Math.random()*8 | 0,
			lastFrame: 0 };
	}
}

function reset()
{
	gameOver = false;

	playerX = centerX;
	playerY = centerY;
	playerAlive = true;
	playerFrameLast = playerFrame = 0;
	playerSurvivedLast = playerSurvived = 0;

	priestsLength = 16;

	createPriests()

	var sprite = sprites.ground;

	for( var y = 0, h = sprite.height; y < height; y += h )
		for( var x = 0, w = sprite.width; x < width; x += w )
			ctxBack.drawImage(
				sprite,
				x,
				y );
}

function restart()
{
	hideMessage();
	reset();
	pointerLength = 0;
}

function input()
{
	if( gameOver &&
		(pointerLength > 0 ||
			keysDown[32] ||
			keysDown[13]) )
	{
		restart();
		return;
	}

	for( var n = Math.min( pointerLength, 1 ); n--; )
	{
		playerX = pointerX[n];

		if( playerX < mapLeft )
			playerX = mapLeft;
		else if( playerX > mapRight )
			playerX = mapRight;

		playerY = pointerY[n];

		if( playerY < mapTop )
			playerY = mapTop;
		else if( playerY > mapBottom )
			playerY = mapBottom;
	}
}

function run()
{
	now = new Date().getTime();
	factor = (now-last)/16;
	last = now;

	if( playerAlive &&
		now-playerSurvivedLast > 1000 )
	{
		++playerSurvived;
		playerSurvivedLast = now;
	}

	input();
	draw();

	requestAnimFrame( run );
}

function setPointers( ev, down )
{
	var e = ev ||Â event;

	if( down < 1 )
	{
		// process remaining touches
		if( pointerLength > 0 &&
			e.touches &&
			(down = e.touches.length) )
			return setPointers( e, down );

		pointerLength = 0;
	}
	else if( e.touches )
	{
		pointerLength = e.touches.length;

		for( var n = 0; n < pointerLength; ++n )
		{
			var t = e.touches[n];

			pointerX[n] = t.pageX;
			pointerY[n] = t.pageY;
		}
	}
	else if( typeof e.clientX !== "undefined" )
	{
		pointerX[0] = e.clientX;
		pointerY[0] = e.clientY;
		pointerLength = 1;
	}
	else if( typeof e.pageX !== "undefined" )
	{
		pointerX[0] = e.pageX;
		pointerY[0] = e.pageY;
		pointerLength = 1;
	}

	if( ratio != 1 )
		for( var n = 0; n < pointerLength; ++n )
		{
			pointerX[n] = pointerX[n]*ratio | 0;
			pointerY[n] = pointerY[n]*ratio | 0;
		}

	// to avoid overscrolling on iOS it's important to
	// catch pointer events
	e.preventDefault();
	return false;
}

function pointerUp( ev )
{
	return setPointers( ev, 0 );
}

function pointerMove( ev )
{
	return setPointers( ev, pointerLength );
}

function pointerDown( ev )
{
	return setPointers( ev, 1 );
}

function setKey( ev, pressed )
{
	var e = ev || event;

	keysDown[e.keyCode] = pressed;

	e.preventDefault();
	return false;
}

function keyUp( ev )
{
	return setKey( ev, false );
}

function keyDown( ev )
{
	return setKey( ev, true );
}

function scaleSprite( res, rect, w, h )
{
	var c = document.createElement( "canvas" ),
		x = c.getContext( "2d" );

	c.width = w;
	c.height = h;

	c.centerX = w >> 1;
	c.centerY = h >> 1;

	var offset = rect.y*(atlasWidth << 2)+(rect.x << 2),
		skip = (atlasWidth-rect.w) << 2,
		xs = 0,
		xf = scaleFactor;

	if( res.mirror )
	{
		xf = -xf;
		xs = (scaleFactor*rect.w+xf) | 0;
	}

	for( var ay = rect.h, sy = 0;
		ay--;
		offset += skip, sy += scaleFactor )
		for( var ax = rect.w, sx = xs;
			ax--;
			sx += xf )
		{
			var r = atlas[offset++],
				g = atlas[offset++],
				b = atlas[offset++],
				a = atlas[offset++];

			if( a == 0 )
				continue;

			x.fillStyle = 'rgba('+r+','+g+','+b+','+(a/255)+')';
			x.fillRect( sx, sy, scaleFactor, scaleFactor );
		}

	return c;
}

function scale( min )
{
	scaleFactor = Math.round( min/16/resources.ghost0.rect.h );

	for( var name in resources )
	{
		var res = resources[name],
			rc = res.rect,
			w = Math.max( rc.w*scaleFactor | 0, 1 ),
			h = Math.max( rc.h*scaleFactor | 0, 1 );

		sprites[name] = scaleSprite( res, rc, w, h );
	}
}

function disablePointer()
{
	var d = document;

	d.onmousedown =
	d.onmousemove =
	d.onmouseup =
	d.onmouseout = null;

	if( "ontouchstart" in d )
	{
		d.ontouchstart =
		d.ontouchmove =
		d.ontouchend =
		d.ontouchleave =
		d.ontouchcancel = null;
	}

	pointerLength = 0;
}

function enablePointer()
{
	var d = document;

	d.onmousedown = pointerDown;
	d.onmousemove = pointerMove;
	d.onmouseup = pointerUp;
	d.onmouseout = pointerUp;

	if( "ontouchstart" in d )
	{
		d.ontouchstart = pointerDown;
		d.ontouchmove = pointerMove;
		d.ontouchend = pointerUp;
		d.ontouchleave = pointerUp;
		d.ontouchcancel = pointerUp;
	}
}

function hideMessage()
{
	message.style.display = "none";
	enablePointer();
}

function setMessage( text )
{
	messageText.innerHTML = text;
}

function showMessage( text )
{
	disablePointer();
	setMessage( text );
	message.style.display = "block";
}

function resize()
{
	var w = window.innerWidth,
		h = window.innerHeight;

	width = w*ratio | 0;
	height = h*ratio | 0;

	canvasBack.width = canvasGame.width = width;
	canvasBack.height = canvasGame.height = height;
	canvasBack.style.width = canvasGame.style.width = w+"px";
	canvasBack.style.height = canvasGame.style.height = h+"px";

	centerX = width >> 1;
	centerY = height >> 1;

	var min = Math.min( width, height );
	mapLeft = (width-min) >> 1;
	mapTop = (height-min) >> 1;
	mapRight = mapLeft+min;
	mapBottom = mapTop+min;

	scale( min );
	reset();

	radiusSeen = min*.2 | 0;
	radiusSeen *= radiusSeen;
	radiusCastOut = sprites.ghost0.width*.5 | 0;

	if( resizing )
	{
		hideMessage();
		resizing = false;
	}
}

function scheduleResize()
{
	if( resizeTimer )
		clearTimeout( resizeTimer );

	if( running )
	{
		resizing = true;
		showMessage( "Resizing..." );
	}

	resizeTimer = setTimeout( resize, 200 );
}

function start()
{
	var d = document;

	d.onkeydown = keyDown;
	d.onkeyup = keyUp;

	enablePointer();
	hideMessage();

	running = true;
	run();
}

function createFragments()
{
	var rect = resources.ghost0.rect,
		w2 = rect.w >> 1,
		h2 = rect.h >> 1,
		offset = rect.y*(atlasWidth << 2)+(rect.x << 2),
		skip = (atlasWidth-rect.w) << 2;

	fragmentsLength = 0;

	for( var y = 0, h = rect.h; y < h; ++y, offset += skip )
		for( var x = 0, w = rect.w; x < w; ++x )
		{
			var r = atlas[offset++],
				g = atlas[offset++],
				b = atlas[offset++],
				a = atlas[offset++];

			if( a == 0 )
				continue;

			var cx = x-w2,
				cy = y-h2,
				alpha = Math.atan2( cy, cx ),
				vx = Math.cos( alpha ),
				vy = Math.sin( alpha );

			fragments[fragmentsLength++] = {
				color: 'rgba('+r+','+g+','+b+','+(a/255)+')',
				ox: cx,
				oy: cy,
				ovx: vx,
				ovy: vy };
		}
}

function decompressAtlas()
{
	var c = document.createElement( "canvas" ),
		x = c.getContext( "2d" ),
		w = atlas.width,
		h = atlas.height;

	c.width = w;
	c.height = h;
	x.drawImage( atlas, 0, 0 );

	atlas = x.getImageData( 0, 0, w, h ).data;
	atlasWidth = w;
}

function init()
{
	if( !atlas.complete ||
		new Date().getTime()-last < 500 )
	{
		// give mobile browsers some time to settle
		// their window.innerWidth/Height values, i.e.
		// there may still be the virtual keyboard visible
		setTimeout( init, 500 );
		return;
	}

	decompressAtlas();
	createFragments();

	document.body.appendChild( canvasBack );
	document.body.appendChild( canvasGame );

	resize();
	window.onresize = scheduleResize;

	start();
}

function indexSounds()
{
	var audios = document.getElementsByTagName( "audio" );

	if( !audios ||
		!audios.length )
		return;

	for( var n = audioChannelsLength; n--; )
		audioChannels[n] = {
			channel: new Audio(),
			finished: 0 };

	for( var n = audios.length; n--; )
	{
		var e = audios[n];

		sounds[e.id] = e;
	}
}

function createCanvas()
{
	if( !(canvasBack = document.createElement( "canvas" )) ||
		!(ctxBack = canvasBack.getContext( "2d", { alpha: false } )) ||
		!(canvasGame = document.createElement( "canvas" )) ||
		!(ctxGame = canvasGame.getContext( "2d" )) )
		return false;

	ratio =
		(window.devicePixelRatio || 1)/
		(ctxBack.webkitBackingStorePixelRatio ||
			ctxBack.mozBackingStorePixelRatio ||
			ctxBack.msBackingStorePixelRatio ||
			ctxBack.oBackingStorePixelRatio ||
			ctxBack.backingStorePixelRatio ||
			1);

	return true;
}

function load()
{
	if( !(message = document.getElementById( "Message" )) ||
		!(messageText = document.getElementById( "MessageText" )) ||
		!createCanvas() )
	{
		setMessage( "Sorry, this browser cannot run this game." );

		return;
	}

	setMessage( "Loading..." );
	indexSounds();

	last = new Date().getTime();

	atlas = new Image();
	atlas.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAgCAMAAADe611bAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAACQUExURQAAAAsLC4lLS5BUVPv7+////4CAgEBAQJ+fn56enqCgoIhKSv39/f7+/vz8/CAgIBUVFQsLC5CQkH9/f+/v7////xYWFoCAgGovL/v7+6FoaHBwcAIAAKJpaQEAAIxPT5BUVIhKSolLS5+fn56enkBAQM/Pz/7+/qCgoPz8/Pz7+4lMTIhLS49TU/39/fv6+nRhzkcAAAAPdFJOUwD9/f39/f39/f39/f39/W3sy9EAAAABYktHRAX4b+nHAAAAB3RJTUUH3gsLFBINWVtmLQAABGlJREFUSMelVmt32zYMBbU4arO1fFgmm6lt0spW5LXz/v+/Ky4AUrLTs34ok4gQj3Iv8eAFyfkQQwgu8BTZcphidFjhN0dEKSWqY9/sn1jr0nAY1olhPGN5UPDT5Rg8U3nn+C0HpigflOMRIN3fFfe1tS4NhwPAbcrRCxb/8v49dh/FryDETDF+/PSRKR4fmWPsPhvMT6x9WzrgZxh0IhcVK2PmADkfxSWLHij++PRUvRi7rgG/svbVUGweMlHwOQSjATAos4dDvJJ9YIjnp+eV4gtV4FfWvhoI0DoohyxRysITkQFxR0kyKHiA4ivgxpLoToDZJNqpdS/IpRpKUYkoRh/VhaAllKOUloSL/wRVhngxpXR3xxz9mI6JdgfmOE5FCul4TKVUCg7QYBNhx3BDnqCI3pyQrHtQlFq2p/GYxIuehAJevMEWwEDMsKEYhrlRaIywa85BxgHxGieOoA8jMUUxBtpQFKV4Q+NLeuk7pigbCkDPUrRMgXhkrSdxI0rohASFMIob9yvF8W0HCoZbHpYOFOlFvSjnUk6nzs7DLDP7QkELVPLhmIsrSk4IJx7s+SsoLI0cKITnjv4kRGXUQDHDC9E/3/46n8/q7azQNAwyMY7sVjfNBRX1xeNU8ItWVKkFKsBEDw9Tuh917btm6nQq53QUBoOGMfNspcRnWlFNo9oh1/I0NJarMp5AgZdelnbsz/SAKEq0gMywsyZlpkZh5SNlqkcww4igOJH9P49pY1OvHH2llMKt6BoxeUrRivTVoxHrU0LGAZAoNIZqV1ntNXBNXWlj6Td6lH3FFkVUeMl6WMWcj940rapeJcp8qbK6teybDEFyQAaP49ONI+ijpgQUJuaitGtLWPXVVkxWqwhupJdzHF0NjYdIqcpKeqJolIr5Tb+o+rq/VldwNTKTXqlMyKsKiAQrqrjDiXwr5muX+HLljUre0KzDKr1Bw5KtnFzNs/VZEfN/n5vSrl3CZLWumLrOzVLpFYomtNHkFtIUYwyNQsU8XfWLaTJZrSumeQMOnKofUywJ3yiaxkg6XbQgIe0sWE3M696LNImpyuo4jtSScWj5FsO2Ea1J+1gt+MGtMMsRdzdivpSEJjGx+BnFspVXQZ6rDE4q0bFqLHKrAbNG7vmycC3m3IiYAl5MlC6pQFVtZafA9W6jIZu0j6FFIx3eqJgmVzFkub0VcwV81727XC5JvUjamlp7EAtK+P4bn6X/+OjhftC6BXq491q2UmZxK+ZMUZaFmwSO/CVpoDin4oVyiLRCxed5IOvGpoJZmh1zOL1SeWl90fmtmHdUkIGddg7ND/NP9S4yVwWcpbI4nCJngPQ+1LICPvsVRWWdk3vUjZhTU9sJaR/RkK6ltc6Tfsj7Fiey6DfXUAaydCju3t5difmSrCWtyts3IX89TDWj9bw2fJZUZ82/24r5Yhk5bWB6+h8OHVnLyNkdzbUOhUbOHm6/XSrHlqKnXw2nB5tFXC5/woGbuRdDLv+/OX4A0ruUGIlh9NsAAAAASUVORK5CYII=";
	atlas.onload = init;
}

window.onload = load;

</script>
</body>
</html>
